<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Facebook Reaction Landing Page</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f2f5;
    margin: 0; padding: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    position: relative;
    box-sizing: border-box;
    padding-top: 50px;
  }
  .top-banner {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: #28a745;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    box-sizing: border-box;
    z-index: 10;
  }
  .about-button-container,
  .top-banner-right-group {
    margin: 0;
    display: flex;
    align-items: center;
  }
  .about-button-container a {
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: 14px;
    padding: 5px 8px;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.2);
    transition: background-color 0.3s;
  }
  .about-button-container a:hover {
    background: rgba(255, 255, 255, 0.4);
  }

  /* Header Social Links and Language Switch Group */
  .top-banner-right-group {
    gap: 15px;
  }
  .header-social-links {
    display: flex;
    align-items: center;
    gap: 15px;
  }
  .header-social-links a {
    color: white;
    font-size: 20px;
    transition: transform 0.3s ease;
  }
  .header-social-links a:hover {
    transform: scale(1.2);
  }

  .ad-banner-section {
    max-width: 728px;
    width: 100%;
    margin: 65px auto 15px;
    background-color: #f7f7f7;
    text-align: center;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  .ad-banner-section iframe {
    display: block;
  }
  
  /* --- সোশ্যাল বার অ্যাড সেকশনের স্টাইল --- */
  .social-bar-ad {
    margin-top: 25px;
    text-align: center;
  }
  /* --- সোশ্যাল বার অ্যাড সেকশনের স্টাইল শেষ --- */

  /* --- নতুন নেটিভ ব্যানার অ্যাডের স্টাইল --- */
  .native-banner-container {
    display: flex;
    justify-content: center;
    gap: 5px;
    margin-top: 25px;
    padding: 10px 0;
  }
  /* --- নেটিভ ব্যানার অ্যাডের স্টাইল শেষ --- */

  .container {
    background: #fff;
    max-width: 400px;
    width: 100%;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    padding: 30px 30px 0 30px;
    text-align: center;
    position: relative;
    z-index: 1;
    margin: 5px auto 0;
  }
  .language-switch {
    display: flex;
    gap: 5px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 5px;
    padding: 5px;
    font-size: 14px;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
  }
  .language-switch span {
    cursor: pointer;
    padding: 3px 8px;
    border-radius: 4px;
    transition: background-color 0.3s, color 0.3s;
    font-weight: 500;
  }
  .language-switch span.active {
    background-color: #1877f2;
    color: white;
  }
  h2 {
    margin-bottom: 20px;
    font-weight: 700;
    margin-top: 0;
  }
  .reaction-circle {
    position: relative;
    width: 220px;
    height: 220px;
    margin: 0 auto 30px;
    perspective: 800px;
  }
  .facebook-logo {
    position: absolute;
    top: 50%; left: 50%;
    width: 70px; height: 70px;
    background: #1877f2;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-weight: 900;
    font-size: 36px;
    user-select: none;
    transform-style: preserve-3d;
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
    box-shadow: 0 0 10px rgba(24, 119, 242, 0.5);
  }
  .reaction {
    position: absolute;
    top: 50%; left: 50%;
    font-size: 40px;
    user-select: none;
    cursor: default;
    background: transparent !important;
    box-shadow: none !important;
    border-radius: 50%;
    opacity: 0;
    transform-style: preserve-3d;
    backface-visibility: hidden;
    filter: drop-shadow(0 0 5px rgba(255,255,255,0.7));
  }
  form {
    text-align: left;
  }
  .main-headline-container {
    background-color: rgba(0, 0, 0, 0.05);
    padding: 10px 15px;
    border-radius: 8px;
    margin-bottom: 25px;
    text-align: center;
  }
  .main-headline {
    font-size: 18px;
    font-weight: 600;
    color: #333;
    margin: 0;
  }
  label {
    font-weight: 500;
    margin-top: 15px;
    display: block;
  }
  input, select {
    width: 100%;
    padding: 8px 12px;
    margin-top: 6px;
    border: 1.5px solid #ddd;
    border-radius: 6px;
    font-size: 15px;
    box-sizing: border-box;
  }
  select {
    cursor: pointer;
  }
  button {
    margin-top: 25px;
    background: #1877f2;
    border: none;
    color: white;
    font-size: 18px;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    font-weight: 700;
    transition: background-color 0.5s ease;
  }
  button:disabled {
    background: #999;
    cursor: not-allowed;
  }
  .btn-success {
    background-color: #28a745 !important;
  }
  /* New CSS for dimmed state */
  .btn-dimmed {
    background-color: #a4c9f1 !important; /* Lighter blue */
    opacity: 0.7;
    cursor: not-allowed;
  }

  .loading {
    margin-top: 15px;
    color: #1877f2;
    font-weight: 600;
    display: none;
    text-align: center;
  }

  #successNotification {
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    text-align: center;
    display: none; /* Initially hidden */
  }

  /* Congrats Animation/Notification */
  #congrats-notification {
    display: none;
    padding: 20px;
    background-color: #28a745;
    color: white;
    border-radius: 10px;
    margin-bottom: 20px;
    font-size: 24px;
    font-weight: bold;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    animation: fadeIn 0.5s ease-out;
    position: relative;
    overflow: hidden;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  /* Confetti Animation */
  .confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background-color: #ffeb3b; /* Yellow */
    border-radius: 50%;
    opacity: 0;
    top: 50%;
    left: 50%;
    transform-origin: center;
    animation: confetti-fall 2s ease-out forwards;
    z-index: 1001;
  }
  @keyframes confetti-fall {
    0% { transform: scale(0) translate(0, 0); opacity: 1; }
    50% { transform: scale(1) translate(0, -100px); opacity: 1; }
    100% { transform: scale(0.5) translate(var(--x), var(--y)); opacity: 0; }
  }

  /* New Share Instruction and Copy Button Section */
  .share-options-container {
    text-align: center;
    margin-top: 10px;
    margin-bottom: 10px;
    display: none; /* Initially hidden */
  }
  #copy-message-btn {
    display: inline-block;
    color: #1877f2;
    text-decoration: none;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    margin-bottom: 5px;
    transition: color 0.3s;
  }
  #copy-message-btn i {
    margin-right: 5px;
  }
  #copy-message-btn:hover {
    color: #0b5cb4;
  }
  #copy-message-btn::before {
    content: '→';
    display: inline-block;
    margin-right: 8px;
    font-size: 18px;
  }
  #shareInstruction {
    color: #333;
    font-weight: 600;
    margin: 0;
  }
  
  /* Media query for mobile-first approach */
  @media (max-width: 599px) {
    .container {
      width: 90%;
      border-radius: 0;
      box-shadow: none;
    }
    .top-banner {
        flex-wrap: wrap;
        align-items: center;
    }
    .top-banner-right-group {
        width: 100%;
        justify-content: center;
        margin-top: 5px;
        flex-wrap: wrap;
        gap: 10px;
    }
    .header-social-links {
        justify-content: center;
    }
    .ad-banner-section {
        margin-top: 60px;
    }
    /* মোবাইল ডিভাইসে ব্যানারগুলো উপর-নিচ করে সাজানো হয়েছে */
    .native-banner-container {
      flex-direction: column;
    }
  }

  /* Modal/Popup Styles */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  .modal {
    background-color: white;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    max-width: 350px;
    width: 90%;
    position: relative;
    transform: scale(0);
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
  }
  .modal.active {
    transform: scale(1);
    opacity: 1;
  }
  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }
  .modal-header h3 {
    margin: 0;
    font-size: 20px;
  }
  .modal-header .close-btn {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #555;
    transition: color 0.2s;
  }
  .modal-header .close-btn:hover {
    color: #333;
  }
  .modal-body p {
    margin: 0;
    line-height: 1.6;
    color: #444;
  }
  /* Import Font Awesome */
  @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');
</style>
</head>
<body>
  <div class="top-banner">
    <div class="about-button-container">
        <a href="#" id="about-btn">About</a>
    </div>
    <div class="top-banner-right-group">
      <div class="header-social-links">
          <a href="https://www.facebook.com" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
          <a href="https://twitter.com" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
          <a href="https://www.instagram.com" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="https://www.youtube.com" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
      </div>
      <div class="language-switch">
        <span id="lang-bn">বাংলা</span>
        <span id="lang-en" class="active">English</span>
      </div>
    </div>
  </div>

  <div class="ad-banner-section">
    <script type="text/javascript">
      atOptions = {
        'key' : '0f2748c6375d2f82ce24ad527b0e48cd',
        'format' : 'iframe',
        'height' : 90,
        'width' : 728,
        'params' : {}
      };
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/0f2748c6375d2f82ce24ad527b0e48cd/invoke.js"></script>
  </div>

  <div class="container">
    <h2 id="main-title">Viral in one hour 🧑‍🚀</h2>
    <div class="reaction-circle" aria-label="Facebook Reactions Animation">
      <div class="facebook-logo">f</div>
      <div class="reaction" data-reaction="like" title="Like">👍</div>
      <div class="reaction" data-reaction="love" title="Love">❤️</div>
      <div class="reaction" data-reaction="haha" title="Haha">😂</div>
      <div class="reaction" data-reaction="wow" title="Wow">😮</div>
      <div class="reaction" data-reaction="sad" title="Sad">😢</div>
      <div class="reaction" data-reaction="angry" title="😡">😡</div>
    </div>

    <div id="congrats-notification">
        <span id="congrats-text"></span>
    </div>

    <div id="successNotification">
        <i class="fas fa-check-circle" style="color: green; margin-right: 10px;"></i>
        <span id="notificationMessage"></span>
    </div>

    <form id="viralForm">
      <div class="main-headline-container">
        <p id="sub-headline" class="main-headline">📣 Get unlimited reactions or followers for your Facebook post or page. 😍🔥</p>
      </div>
      <label id="url-label" for="postUrl">Paste your Facebook post or page URL</label>
      <input type="text" id="postUrl" name="postUrl" placeholder="https://www.facebook.com/..." required />
      <label id="limit-label" for="reactionLimit">Select Reaction Limit</label>
      <select id="reactionLimit" name="reactionLimit" required>
        <option value="" disabled selected>Select Limit</option>
        <option value="50">50</option>
        <option value="100">100</option>
        <option value="200">200</option>
        <option value="500">500</option>
        <option value="1000">1000</option>
        <option value="2000">2000</option>
        <option value="3000">3000</option>
        <option value="4000">4000</option>
        <option value="5000">5000</option>
      </select>
      <label id="type-label" for="reactionType">Select Reaction Type</label>
      <select id="reactionType" name="reactionType" required>
        <option value="" disabled selected>Select Reaction</option>
        <option value="like">👍 Like</option>
        <option value="love">❤️ Love</option>
        <option value="haha">😂 Haha</option>
        <option value="wow">😮 Wow</option>
        <option value="sad">😢 Sad</option>
        <option value="angry">😡 Angry</option>
      </select>
      <button type="submit" id="submit-button">Continue</button>
      
      <div class="share-options-container">
          <p id="copy-message-btn"><i class="fas fa-copy"></i> <span id="copy-text"></span></p>
          <p id="shareInstruction"></p>
      </div>

      <div class="loading" id="loadingText">Please wait...</div>
    </form>
    <div class="social-bar-ad">
      <script type='text/javascript' src='//pl27313467.profitableratecpm.com/c6/a3/a9/c6a3a9a6dc5edc0b8b5a9c67b3e1a8cd.js'></script>
    </div>

    <div class="native-banner-container">
      <script async="async" data-cfasync="false" src="//pl27318448.profitableratecpm.com/6db1dcca521a7de73e5ad72e8244766b/invoke.js"></script>
      <div id="container-6db1dcca521a7de73e5ad72e8244766b"></div>
    </div>
    </div>

  <div id="aboutModalOverlay" class="modal-overlay">
    <div id="aboutModal" class="modal">
      <div class="modal-header">
        <h3 id="modal-title"></h3>
        <button id="close-modal-btn" class="close-btn">×</button>
      </div>
      <div class="modal-body">
        <p id="modal-text"></p>
      </div>
    </div>
  </div>

<script>
  const form = document.getElementById('viralForm');
  const loadingText = document.getElementById('loadingText');
  const submitButton = document.getElementById('submit-button');
  const fbLogo = document.querySelector('.facebook-logo');
  const reactions = document.querySelectorAll('.reaction');
  const bnBtn = document.getElementById('lang-bn');
  const enBtn = document.getElementById('lang-en');
  const shareOptionsContainer = document.querySelector('.share-options-container');
  const copyMessageBtn = document.getElementById('copy-message-btn');
  const copyTextSpan = document.getElementById('copy-text');
  const shareInstruction = document.getElementById('shareInstruction');
  const successNotification = document.getElementById('successNotification');
  const notificationMessage = document.getElementById('notificationMessage');
  const congratsNotification = document.getElementById('congrats-notification');
  const congratsText = document.getElementById('congrats-text');

  const translations = {
    bn: {
      'main-title': 'এক ঘন্টায় ভাইরাল 🧑‍🚀',
      'sub-headline': '📣 আপনার ফেসবুক পোস্ট বা পেজের জন্য আনলিমিটেড রিঅ্যাকশন বা ফলোয়ার নিন। 😍🔥',
      'url-label': 'ফেসবুক পোস্ট বা পেজের URL পেস্ট করুন',
      'limit-label': 'রিয়াকশনের লিমিট সিলেক্ট করুন',
      'type-label': 'রিয়াকশন টাইপ সিলেক্ট করুন',
      'submit-button': 'কন্টিনিউ',
      'loadingText': 'অনুগ্রহ করে অপেক্ষা করুন...',
      'select-limit-default': 'লিমিট সিলেক্ট করুন',
      'select-type-default': 'রিয়াকশন সিলেক্ট করুন',
      'placeholder': 'https://www.facebook.com/...',
      'about-title': 'আশিকুর - এর টুল সম্পর্কে',
      'about-text': 'আমাদের এই টুলের মাধ্যমে আপনি খুব সহজে এবং দ্রুত আপনার ফেসবুক পোস্ট বা পেজের জন্য রিয়েল রিঅ্যাকশন ও ফলোয়ার পেতে পারেন। এটি ব্যবহার করা খুবই সহজ এবং সম্পূর্ণ নিরাপদ। এটি আপনার অনলাইন উপস্থিতি বাড়াতে এবং আপনার কন্টেন্টকে আরও বেশি মানুষের কাছে পৌঁছে দিতে সাহায্য করবে। আমাদের টুলটি ব্যবহার করার জন্য আপনাকে ধন্যবাদ।',
      'share-instruction-text': '১০ জনকে শেয়ার করুন',
      'copy-text': 'এখানে ক্লিক করে কপি করুন',
      'share-button': 'শেয়ার নাও',
      'success-message': 'আপনার ১০ জনকে শেয়ার করা সাকসেসফুল হয়েছে।',
      'final-button': 'লিংক কানেক্ট করুন',
      'congrats-message': 'কংগ্রাচুলেশন! লিংক কানেক্ট সাকসেসফুল',
      'done-button': 'Done ✅'
    },
    en: {
      'main-title': 'Viral in one hour 🧑‍🚀',
      'sub-headline': '📣 Get unlimited reactions or followers for your Facebook post or page. 😍🔥',
      'url-label': 'Paste your Facebook post or page URL',
      'limit-label': 'Select Reaction Limit',
      'type-label': 'Select Reaction Type',
      'submit-button': 'Continue',
      'loadingText': 'Please wait...',
      'select-limit-default': 'Select Limit',
      'select-type-default': 'Select Reaction',
      'placeholder': 'https://www.facebook.com/...',
      'about-title': 'About Ashikur\'s Tool',
      'about-text': 'With our tool, you can easily and quickly get real reactions and followers for your Facebook posts or pages. It is very simple to use and completely safe. It will help you grow your online presence and get your content to more people. Thank you for using our tool.',
      'share-instruction-text': 'Share with 10 people',
      'copy-text': 'Click here to copy',
      'share-button': 'Share Now',
      'success-message': 'Your sharing with 10 people was successful.',
      'final-button': 'Connect Link',
      'congrats-message': 'Congratulations! Link Connect Successful',
      'done-button': 'Done ✅'
    }
  };

  const panelUrl = "https://www.profitableratecpm.com/bxpys4w3p1?key=548da758e411d97dc9752aa68d0a7502"; // এই ইমোজিগুলো সম্পূর্ণ মুছে ফেলে আপনার ডাইরেক্ট লিংকটি এখানে বসিয়ে দিন
  const shareMessage = {
    bn: `🔥 দুর্দান্ত অফার! এখন সম্পূর্ণ বিনামূল্যে আপনার ফেসবুক পোস্ট, পেজ এবং আইডিতে আনলিমিটেড লাইক, ফলো, কমেন্ট এবং শেয়ার বাড়ান! কোনো খরচ নেই, কোনো ঝামেলা নেই। এই সুযোগটি হাতছাড়া করবেন না! এখনই ভিজিট করুন: ${panelUrl}`,
    en: `🔥 Great offer! Now increase unlimited likes, followers, comments, and shares on your Facebook post, page, and ID for free! No cost, no hassle. Do not miss this opportunity! Visit now: ${panelUrl}`
  };
  
  function setLanguage(lang) {
    if (lang === 'bn') {
      bnBtn.classList.add('active');
      enBtn.classList.remove('active');
      document.documentElement.lang = 'bn';
      // Set texts for Bengali
      document.getElementById('main-title').textContent = translations['bn']['main-title'];
      document.getElementById('sub-headline').textContent = translations['bn']['sub-headline'];
      document.getElementById('url-label').textContent = translations['bn']['url-label'];
      document.getElementById('limit-label').textContent = translations['bn']['limit-label'];
      document.getElementById('type-label').textContent = translations['bn']['type-label'];
      document.getElementById('submit-button').textContent = translations['bn']['submit-button'];
      document.getElementById('loadingText').textContent = translations['bn']['loadingText'];
      document.querySelector('#reactionLimit option[value=""]').textContent = translations['bn']['select-limit-default'];
      document.querySelector('#reactionType option[value=""]').textContent = translations['bn']['select-type-default'];
      document.getElementById('postUrl').placeholder = translations['bn']['placeholder'];
      document.getElementById('modal-title').textContent = translations['bn']['about-title'];
      document.getElementById('modal-text').textContent = translations['bn']['about-text'];
      shareInstruction.textContent = translations['bn']['share-instruction-text'];
      copyTextSpan.textContent = translations['bn']['copy-text'];
      congratsText.textContent = translations['bn']['congrats-message'];
      notificationMessage.textContent = translations['bn']['success-message'];


    } else {
      enBtn.classList.add('active');
      bnBtn.classList.remove('active');
      document.documentElement.lang = 'en';
      // Set texts for English
      document.getElementById('main-title').textContent = translations['en']['main-title'];
      document.getElementById('sub-headline').textContent = translations['en']['sub-headline'];
      document.getElementById('url-label').textContent = translations['en']['url-label'];
      document.getElementById('limit-label').textContent = translations['en']['limit-label'];
      document.getElementById('type-label').textContent = translations['en']['type-label'];
      document.getElementById('submit-button').textContent = translations['en']['submit-button'];
      document.getElementById('loadingText').textContent = translations['en']['loadingText'];
      document.querySelector('#reactionLimit option[value=""]').textContent = translations['en']['select-limit-default'];
      document.querySelector('#reactionType option[value=""]').textContent = translations['en']['select-type-default'];
      document.getElementById('postUrl').placeholder = translations['en']['placeholder'];
      document.getElementById('modal-title').textContent = translations['en']['about-title'];
      document.getElementById('modal-text').textContent = translations['en']['about-text'];
      shareInstruction.textContent = translations['en']['share-instruction-text'];
      copyTextSpan.textContent = translations['en']['copy-text'];
      congratsText.textContent = translations['en']['congrats-message'];
      notificationMessage.textContent = translations['en']['success-message'];

    }
  }

  bnBtn.addEventListener('click', () => setLanguage('bn'));
  enBtn.addEventListener('click', () => setLanguage('en'));
  
  const radius = 90;
  
  const positionsDegrees = [270, 330, 30, 90, 150, 210];
  
  function getPosition(deg) {
    const rad = deg * Math.PI / 180;
    return {
      x: Math.cos(rad) * radius,
      y: Math.sin(rad) * radius
    };
  }
  
  const totalDuration = 7500;
  
  let animationStartTime = null;
  
  function animate(time) {
    if (!animationStartTime) animationStartTime = time;
    const elapsed = (time - animationStartTime) % totalDuration;
  
    const glowAndExpandDuration = 1500;
    const logoEnterDuration = 1000;
    const holdAndSpinDuration = 2500;
    const collapseDuration = 2000;
    const logoExitDuration = 500;
    
    if (elapsed < glowAndExpandDuration) {
      const progress = elapsed / glowAndExpandDuration;
      reactions.forEach((emoji, i) => {
        const pos = getPosition(positionsDegrees[i]);
        const x = pos.x * progress;
        const y = pos.y * progress;
        const scale = 1.2 * progress;
        emoji.style.opacity = progress;
        emoji.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) scale(${scale}) rotateX(0deg) rotateY(0deg)`;
      });
      fbLogo.style.opacity = 0;
    }
    else if (elapsed < glowAndExpandDuration + logoEnterDuration) {
        const progress = (elapsed - glowAndExpandDuration) / logoEnterDuration;
        fbLogo.style.opacity = progress;
        fbLogo.style.transform = `translate(-50%, -50%) scale(${progress})`;
        reactions.forEach((emoji, i) => {
            const pos = getPosition(positionsDegrees[i]);
            emoji.style.opacity = 1;
            emoji.style.transform = `translate(calc(-50% + ${pos.x}px), calc(-50% + ${pos.y}px)) scale(1.2) rotateX(0deg) rotateY(0deg)`;
        });
    }
    else if (elapsed < glowAndExpandDuration + logoEnterDuration + holdAndSpinDuration) {
      const progress = (elapsed - (glowAndExpandDuration + logoEnterDuration)) / holdAndSpinDuration;
      const rotationY = 360 * progress;
      const rotationX = 360 * progress;
      fbLogo.style.opacity = 1;
      fbLogo.style.transform = `translate(-50%, -50%) scale(1)`;
      reactions.forEach((emoji, i) => {
        const pos = getPosition(positionsDegrees[i]);
        const x = pos.x;
        const y = pos.y;
        emoji.style.opacity = 1;
        emoji.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) scale(1.2) rotateY(${rotationY}deg) rotateX(${rotationX}deg)`;
      });
    }
    else if (elapsed < totalDuration - logoExitDuration) {
      const startOfCollapse = glowAndExpandDuration + logoEnterDuration + holdAndSpinDuration;
      const progress = (elapsed - startOfCollapse) / collapseDuration;
      const reverseProgress = 1 - progress;
      
      fbLogo.style.opacity = 1;
      fbLogo.style.transform = `translate(-50%, -50%) scale(1)`;
      
      reactions.forEach((emoji, i) => {
        const pos = getPosition(positionsDegrees[i]);
        const x = pos.x * reverseProgress;
        const y = pos.y * reverseProgress;
        const scale = 1.2 * reverseProgress;
        emoji.style.opacity = reverseProgress;
        emoji.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) scale(${scale}) rotateY(${360 * reverseProgress}deg) rotateX(${360 * reverseProgress}deg)`;
      });
    }
    else {
      const startOfExit = totalDuration - logoExitDuration;
      const progress = (elapsed - startOfExit) / logoExitDuration;
      const reverseProgress = 1 - progress;
      
      fbLogo.style.opacity = reverseProgress;
      fbLogo.style.transform = `translate(-50%, -50%) scale(${reverseProgress})`;
      
      reactions.forEach(emoji => {
        emoji.style.opacity = 0;
      });
    }
    
    requestAnimationFrame(animate);
  }
  
  requestAnimationFrame(animate);

  function createConfetti(container) {
    const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4caf50', '#8bc34a', '#cddc39', '#ffeb3b', '#ffc107', '#ff9800', '#ff5722'];
    const count = 50;
    for (let i = 0; i < count; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.animationDelay = `${Math.random() * 0.5}s`;
        confetti.style.setProperty('--x', `${(Math.random() - 0.5) * 200}px`);
        confetti.style.setProperty('--y', `${(Math.random() - 0.5) * 200}px`);
        container.appendChild(confetti);
    }
    setTimeout(() => {
        container.querySelectorAll('.confetti').forEach(c => c.remove());
    }, 2000);
  }

  function saveAppState(state) {
    localStorage.setItem('viralAppState', JSON.stringify(state));
  }

  function getAppState() {
    const savedState = localStorage.getItem('viralAppState');
    return savedState ? JSON.parse(savedState) : { step: 'initial' };
  }

  function updateUI(state) {
    const currentLang = document.documentElement.lang;
    if (state.step === 'shared') {
      // Hide form fields and show share options
      form.style.display = 'block';
      submitButton.textContent = translations[currentLang]['final-button'];
      shareOptionsContainer.style.display = 'none';
      successNotification.style.display = 'block';
      notificationMessage.textContent = translations[currentLang]['success-message'];
      submitButton.disabled = false;
      submitButton.classList.remove('btn-dimmed');
      submitButton.classList.remove('btn-success');
      submitButton.style.backgroundColor = '#1877f2';
      
      submitButton.onclick = function(e) {
        e.preventDefault();
        window.open(panelUrl, '_blank');
        
        setTimeout(() => {
            loadingText.style.display = 'none';
            congratsText.textContent = translations[currentLang]['congrats-message'];
            congratsNotification.style.display = 'block';
            createConfetti(congratsNotification); // Start confetti animation
            submitButton.textContent = translations[currentLang]['done-button'];
            submitButton.disabled = true;
            submitButton.classList.add('btn-success');
            successNotification.style.display = 'none';
            saveAppState({ step: 'connected' });
        }, 1500); // Wait for the user to potentially return
      };

    } else if (state.step === 'connected') {
      // Hide form fields and show success message
      form.style.display = 'block';
      congratsText.textContent = translations[currentLang]['congrats-message'];
      congratsNotification.style.display = 'block';
      submitButton.textContent = translations[currentLang]['done-button'];
      submitButton.disabled = true;
      submitButton.classList.add('btn-success');
      shareOptionsContainer.style.display = 'none';
      successNotification.style.display = 'none';
    } else {
      // Default initial state
      form.style.display = 'block';
      submitButton.textContent = translations[currentLang]['submit-button'];
      shareOptionsContainer.style.display = 'none';
      successNotification.style.display = 'none';
      congratsNotification.style.display = 'none';
      submitButton.disabled = false;
      submitButton.classList.remove('btn-dimmed');
      submitButton.classList.remove('btn-success');
      submitButton.style.backgroundColor = '#1877f2';
    }
  }

  // Initial page load logic
  document.addEventListener('DOMContentLoaded', () => {
    setLanguage('en'); // Default language
    const savedState = getAppState();
    updateUI(savedState);
  });
  
  form.addEventListener('submit', function(e) {
    e.preventDefault();
  
    const postUrl = document.getElementById('postUrl').value.trim();
    const reactionLimit = document.getElementById('reactionLimit').value;
    const reactionType = document.getElementById('reactionType').value;
  
    if(!postUrl || !reactionLimit || !reactionType){
      const currentLang = document.documentElement.lang;
      if (currentLang === 'bn') {
        alert('অনুগ্রহ করে সব ফিল্ড পূরণ করুন');
      } else {
        alert('Please fill out all fields');
      }
      return;
    }
  
    loadingText.style.display = 'block';
    submitButton.style.transition = 'background-color 1s ease';
    submitButton.classList.add('btn-success');
    submitButton.disabled = true;
  
    setTimeout(() => {
      loadingText.style.display = 'none';
      const currentLang = document.documentElement.lang;
      
      submitButton.textContent = translations[currentLang]['share-button'];
      shareOptionsContainer.style.display = 'block'; // Show new share options
      
      // Initially disable the Share Now button until copy is done
      submitButton.disabled = true;
      submitButton.classList.add('btn-dimmed'); // Apply dimmed style
      
      submitButton.classList.remove('btn-success');
      
      // New logic for 'Share Now' button
      submitButton.onclick = function(e) {
        e.preventDefault();
        
        const currentLang = document.documentElement.lang;
        const encodedMessage = encodeURIComponent(shareMessage[currentLang]);
        const messengerShareUrl = `https://m.me/?text=${encodedMessage}`;
        
        window.open(messengerShareUrl, '_blank');
        
        submitButton.disabled = true;
        submitButton.classList.add('btn-dimmed');

        setTimeout(() => {
          notificationMessage.textContent = translations[currentLang]['success-message'];
          successNotification.style.display = 'block';
          
          submitButton.textContent = translations[currentLang]['final-button'];
          submitButton.disabled = false;
          submitButton.classList.remove('btn-dimmed'); // Remove dimmed style
          shareOptionsContainer.style.display = 'none'; // Hide the share options
          
          saveAppState({ step: 'shared' }); // Save state
          
          submitButton.onclick = function(e) {
            e.preventDefault();
            window.open(panelUrl, '_blank');

            setTimeout(() => {
                loadingText.style.display = 'none';
                congratsText.textContent = translations[currentLang]['congrats-message'];
                congratsNotification.style.display = 'block';
                createConfetti(congratsNotification); // Start confetti animation
                submitButton.textContent = translations[currentLang]['done-button'];
                submitButton.disabled = true;
                submitButton.classList.add('btn-success');
                successNotification.style.display = 'none';
                saveAppState({ step: 'connected' });
            }, 1500);
          };

        }, 7000);
      };

    }, 2000);
  });
  
  // Copy to clipboard function
  copyMessageBtn.addEventListener('click', function() {
    const currentLang = document.documentElement.lang;
    const messageToCopy = shareMessage[currentLang];
    
    // Create a temporary textarea element
    const tempTextarea = document.createElement('textarea');
    tempTextarea.value = messageToCopy;
    document.body.appendChild(tempTextarea);
    
    // Select and copy the text
    tempTextarea.select();
    tempTextarea.setSelectionRange(0, 99999); // For mobile devices
    document.execCommand('copy');
    
    // Remove the temporary element
    document.body.removeChild(tempTextarea);
    
    // Provide user feedback and enable the Share Now button
    alert(currentLang === 'bn' ? 'মেসেজটি কপি করা হয়েছে! এখন শেয়ার করুন।' : 'Message copied to clipboard! Now share.');
    
    // Enable the Share Now button
    submitButton.disabled = false;
    submitButton.classList.remove('btn-dimmed');
  });


  // Modal Script
  const aboutBtn = document.getElementById('about-btn');
  const aboutModalOverlay = document.getElementById('aboutModalOverlay');
  const aboutModal = document.getElementById('aboutModal');
  const closeModalBtn = document.getElementById('close-modal-btn');

  function openModal() {
    aboutModalOverlay.style.display = 'flex';
    setTimeout(() => {
      aboutModal.classList.add('active');
    }, 10);
  }

  function closeModal() {
    aboutModal.classList.remove('active');
    setTimeout(() => {
      aboutModalOverlay.style.display = 'none';
    }, 300); // Wait for the transition to finish
  }

  aboutBtn.addEventListener('click', (e) => {
    e.preventDefault();
    openModal();
  });

  closeModalBtn.addEventListener('click', closeModal);
  aboutModalOverlay.addEventListener('click', (e) => {
    if (e.target === aboutModalOverlay) {
      closeModal();
    }
  });

  // Language switch functionality needs to be updated to load saved state
  bnBtn.addEventListener('click', () => {
      setLanguage('bn');
      updateUI(getAppState());
  });
  enBtn.addEventListener('click', () => {
      setLanguage('en');
      updateUI(getAppState());
  });

  // Call setLanguage and updateUI on initial page load
  setLanguage('en');
  updateUI(getAppState());

</script>
</body>
</html>
